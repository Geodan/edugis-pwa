!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.WMSCapabilities=e()}}(function(){return function e(t,r,n){function a(o,u){if(!r[o]){if(!t[o]){var d="function"==typeof require&&require;if(!u&&d)return d(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=r[o]={exports:{}};t[o][0].call(s.exports,function(e){var r=t[o][1][e];return a(r||e)},s,s.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";t.exports=e("./src/wms")},{"./src/wms":6}],2:[function(e,t,r){"use strict";t.exports={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}},{}],3:[function(e,t,r){"use strict";t.exports=function(e){return void 0!==e}},{}],4:[function(e,t,r){"use strict";t.exports=function(e,t,r){return t in e?e[t]:e[t]=r}},{}],5:[function(e,t,r){"use strict";function n(e,t){return new Array(t+1).join(e)}var a=e("./isdef"),i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;t.exports={trim:function(e){return e.replace(i,"")},padNumber:function(e,t,r){var i=a(r)?e.toFixed(r):String(e),o=i.indexOf(".");return-1==o&&(o=i.length),n("0",Math.max(0,t-o))+i}}},{"./isdef":3}],6:[function(e,t,r){"use strict";function n(e){this.version=void 0,this._parser=new a,this._data=e}var a=e("./xml_parser"),i=e("./utils/isdef"),o=e("./node_types"),u=e("./utils/setifundefined"),d=e("./xsd"),s=e("./xlink"),S=a.makeObjectPropertySetter;n.prototype.data=function(e){return this._data=e,this},n.prototype.toJSON=function(e){return e=e||this._data,this.parse(e)},n.prototype.parse=function(e){return this._readFromDocument(this._parser.toDocument(e))},n.prototype._readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==o.ELEMENT)return this.readFromNode(t);return null},n.prototype.readFromNode=function(e){return this.version=e.getAttribute("version"),a.pushParseAndPop({version:this.version},n.PARSERS,e,[])||null},n._readAttribution=function(e,t){return a.pushParseAndPop({},n.ATTRIBUTION_PARSERS,e,t)},n._readBoundingBoxExtent=function(e){var t=d.readDecimalString;return[t(e.getAttribute("minx")),t(e.getAttribute("miny")),t(e.getAttribute("maxx")),t(e.getAttribute("maxy"))]},n._readBoundingBox=function(e,t){var r=n._readBoundingBoxExtent(e),a=d.readDecimalString,i=[a(e.getAttribute("resx")),a(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:i}},n._readLatLonBoundingBox=function(e,t){var r=n._readBoundingBoxExtent(e);if(i(r[0])&&i(r[1])&&i(r[2])&&i(r[3]))return r},n._readScaleHint=function(e,t){return{min:parseFloat(e.getAttribute("min")),max:parseFloat(e.getAttribute("max"))}},n._readEXGeographicBoundingBox=function(e,t){var r=a.pushParseAndPop({},n.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,e,t);if(i(r)){var o=r.westBoundLongitude,u=r.southBoundLatitude,d=r.eastBoundLongitude,s=r.northBoundLatitude;if(i(o)&&i(u)&&i(d)&&i(s))return[o,u,d,s]}},n._readCapability=function(e,t){return a.pushParseAndPop({},n.CAPABILITY_PARSERS,e,t)},n._readService=function(e,t){return a.pushParseAndPop({},n.SERVICE_PARSERS,e,t)},n._readContactInformation=function(e,t){return a.pushParseAndPop({},n.CONTACT_INFORMATION_PARSERS,e,t)},n._readContactPersonPrimary=function(e,t){return a.pushParseAndPop({},n.CONTACT_PERSON_PARSERS,e,t)},n._readContactAddress=function(e,t){return a.pushParseAndPop({},n.CONTACT_ADDRESS_PARSERS,e,t)},n._readException=function(e,t){return a.pushParseAndPop([],n.EXCEPTION_PARSERS,e,t)},n._readCapabilityLayer=function(e,t){var r=d.readBooleanString(e.getAttribute("queryable"));return a.pushParseAndPop({queryable:!!i(r)&&r},n.LAYER_PARSERS,e,t)},n._readLayer=function(e,t){var r=t[t.length-1],o=a.pushParseAndPop({},n.LAYER_PARSERS,e,t);if(i(o)){var s=d.readBooleanString(e.getAttribute("queryable"));i(s)||(s=r.queryable),o.queryable=!!i(s)&&s;var S=d.readNonNegativeIntegerString(e.getAttribute("cascaded"));i(S)||(S=r.cascaded),o.cascaded=S;var c=d.readBooleanString(e.getAttribute("opaque"));i(c)||(c=r.opaque),o.opaque=!!i(c)&&c;var l=d.readBooleanString(e.getAttribute("noSubsets"));i(l)||(l=r.noSubsets),o.noSubsets=!!i(l)&&l;var p=d.readDecimalString(e.getAttribute("fixedWidth"));i(p)||(p=r.fixedWidth),o.fixedWidth=p;var A=d.readDecimalString(e.getAttribute("fixedHeight"));i(A)||(A=r.fixedHeight),o.fixedHeight=A;for(var P=["Style","CRS","AuthorityURL"],g=0,f=P.length;g<f;g++){var E=P[g],_=r[E];if(i(_)){var m=u(o,E,[]);m=m.concat(_),o[E]=m}}for(var R=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"],g=0,f=R.length;g<f;g++){var E=R[g],m=o[E];if(!i(m)){var _=r[E];o[E]=_}}return o}},n._readDimension=function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:d.readBooleanString(e.getAttribute("multipleValues")),nearestValue:d.readBooleanString(e.getAttribute("nearestValue")),current:d.readBooleanString(e.getAttribute("current")),values:d.readString(e)}},n._readFormatOnlineresource=function(e,t){return a.pushParseAndPop({},n.FORMAT_ONLINERESOURCE_PARSERS,e,t)},n._readRequest=function(e,t){return a.pushParseAndPop({},n.REQUEST_PARSERS,e,t)},n._readDCPType=function(e,t){return a.pushParseAndPop({},n.DCPTYPE_PARSERS,e,t)},n._readHTTP=function(e,t){return a.pushParseAndPop({},n.HTTP_PARSERS,e,t)},n._readOperationType=function(e,t){return a.pushParseAndPop({},n.OPERATIONTYPE_PARSERS,e,t)},n._readSizedFormatOnlineresource=function(e,t){var r=n._readFormatOnlineresource(e,t);if(i(r)){var a=d.readNonNegativeIntegerString,o=[a(e.getAttribute("width")),a(e.getAttribute("height"))];return r.size=o,r}},n._readAuthorityURL=function(e,t){var r=n._readFormatOnlineresource(e,t);if(i(r))return r.name=e.getAttribute("name"),r},n._readMetadataURL=function(e,t){var r=n._readFormatOnlineresource(e,t);if(i(r))return r.type=e.getAttribute("type"),r},n._readStyle=function(e,t){return a.pushParseAndPop({},n.STYLE_PARSERS,e,t)},n._readKeywordList=function(e,t){return a.pushParseAndPop([],n.KEYWORDLIST_PARSERS,e,t)},n.NAMESPACE_URIS=[null,"http://www.opengis.net/wms"],n.PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Service:S(n._readService),Capability:S(n._readCapability)}),n.CAPABILITY_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Request:S(n._readRequest),Exception:S(n._readException),Layer:S(n._readCapabilityLayer)}),n.SERVICE_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Name:S(d.readString),Title:S(d.readString),Abstract:S(d.readString),KeywordList:S(n._readKeywordList),OnlineResource:S(s.readHref),ContactInformation:S(n._readContactInformation),Fees:S(d.readString),AccessConstraints:S(d.readString),LayerLimit:S(d.readNonNegativeInteger),MaxWidth:S(d.readNonNegativeInteger),MaxHeight:S(d.readNonNegativeInteger)}),n.CONTACT_INFORMATION_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{ContactPersonPrimary:S(n._readContactPersonPrimary),ContactPosition:S(d.readString),ContactAddress:S(n._readContactAddress),ContactVoiceTelephone:S(d.readString),ContactFacsimileTelephone:S(d.readString),ContactElectronicMailAddress:S(d.readString)}),n.CONTACT_PERSON_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{ContactPerson:S(d.readString),ContactOrganization:S(d.readString)}),n.CONTACT_ADDRESS_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{AddressType:S(d.readString),Address:S(d.readString),City:S(d.readString),StateOrProvince:S(d.readString),PostCode:S(d.readString),Country:S(d.readString)}),n.EXCEPTION_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Format:a.makeArrayPusher(d.readString)}),n.LAYER_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Name:S(d.readString),Title:S(d.readString),Abstract:S(d.readString),KeywordList:S(n._readKeywordList),CRS:a.makeObjectPropertyPusher(d.readString),SRS:a.makeObjectPropertyPusher(d.readString),EX_GeographicBoundingBox:S(n._readEXGeographicBoundingBox),LatLonBoundingBox:S(n._readLatLonBoundingBox),BoundingBox:a.makeObjectPropertyPusher(n._readBoundingBox),Dimension:a.makeObjectPropertyPusher(n._readDimension),Attribution:S(n._readAttribution),AuthorityURL:a.makeObjectPropertyPusher(n._readAuthorityURL),Identifier:a.makeObjectPropertyPusher(d.readString),MetadataURL:a.makeObjectPropertyPusher(n._readMetadataURL),DataURL:a.makeObjectPropertyPusher(n._readFormatOnlineresource),FeatureListURL:a.makeObjectPropertyPusher(n._readFormatOnlineresource),Style:a.makeObjectPropertyPusher(n._readStyle),MinScaleDenominator:S(d.readDecimal),MaxScaleDenominator:S(d.readDecimal),ScaleHint:S(n._readScaleHint),Layer:a.makeObjectPropertyPusher(n._readLayer)}),n.ATTRIBUTION_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Title:S(d.readString),OnlineResource:S(s.readHref),LogoURL:S(n._readSizedFormatOnlineresource)}),n.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{westBoundLongitude:S(d.readDecimal),eastBoundLongitude:S(d.readDecimal),southBoundLatitude:S(d.readDecimal),northBoundLatitude:S(d.readDecimal)}),n.REQUEST_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{GetCapabilities:S(n._readOperationType),GetMap:S(n._readOperationType),GetFeatureInfo:S(n._readOperationType)}),n.OPERATIONTYPE_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Format:a.makeObjectPropertyPusher(d.readString),DCPType:a.makeObjectPropertyPusher(n._readDCPType)}),n.DCPTYPE_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{HTTP:S(n._readHTTP)}),n.HTTP_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Get:S(n._readFormatOnlineresource),Post:S(n._readFormatOnlineresource)}),n.STYLE_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Name:S(d.readString),Title:S(d.readString),Abstract:S(d.readString),LegendURL:a.makeObjectPropertyPusher(n._readSizedFormatOnlineresource),StyleSheetURL:S(n._readFormatOnlineresource),StyleURL:S(n._readFormatOnlineresource)}),n.FORMAT_ONLINERESOURCE_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Format:S(d.readString),OnlineResource:S(s.readHref)}),n.KEYWORDLIST_PARSERS=a.makeParsersNS(n.NAMESPACE_URIS,{Keyword:a.makeArrayPusher(d.readString)}),t.exports=n},{"./node_types":2,"./utils/isdef":3,"./utils/setifundefined":4,"./xlink":7,"./xml_parser":8,"./xsd":9}],7:[function(e,t,r){"use strict";t.exports={readHref:function(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}}},{}],8:[function(e,t,r){"use strict";function n(){this._parser=new DOMParser}var a=e("./utils/isdef"),i=e("./utils/setifundefined"),o=e("./node_types");n.prototype.toDocument=function(e){return this._parser.parseFromString(e,"application/xml")},n.getAllTextContent=function(e,t){return n.getAllTextContent_(e,t,[]).join("")},n.getAllTextContent_=function(e,t,r){if(e.nodeType===o.CDATA_SECTION||e.nodeType===o.TEXT)t?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var a;for(a=e.firstChild;a;a=a.nextSibling)n.getAllTextContent_(a,t,r)}return r},n.parseNode=function(e,t,r,i){for(var o=n.firstElementChild(t);o;o=n.nextElementSibling(o)){var u=o.namespaceURI||null,d=e[u];if(a(d)){var s=d[o.localName];a(s)&&s.call(i,o,r)}}},n.firstElementChild=function(e){for(var t=e.firstElementChild||e.firstChild;t&&t.nodeType!==o.ELEMENT;)t=t.nextSibling;return t},n.nextElementSibling=function(e){for(var t=e.nextElementSibling||e.nextSibling;t&&t.nodeType!==o.ELEMENT;)t=t.nextSibling;return t},n.makeParsersNS=function(e,t,r){return n.makeStructureNS(e,t,r)},n.makeStructureNS=function(e,t,r){var n,i,o=a(r)?r:{};for(n=0,i=e.length;n<i;++n)o[e[n]]=t;return o},n.makeObjectPropertySetter=function(e,t,r){return function(n,i){var o=e.call(a(r)?r:this,n,i);if(a(o)){i[i.length-1][a(t)?t:n.localName]=o}}},n.makeObjectPropertyPusher=function(e,t,r){return function(n,o){var u=e.call(a(r)?r:this,n,o);if(a(u)){var d=o[o.length-1],s=a(t)?t:n.localName;i(d,s,[]).push(u)}}},n.makeArrayPusher=function(e,t){return function(r,n){var i=e.call(a(t)?t:this,r,n);if(a(i)){n[n.length-1].push(i)}}},n.pushParseAndPop=function(e,t,r,a,i){return a.push(e),n.parseNode(t,r,a,i),a.pop()},t.exports=n},{"./node_types":2,"./utils/isdef":3,"./utils/setifundefined":4}],9:[function(e,t,r){"use strict";var n=e("./utils/isdef"),a=e("./utils/string"),i=e("./xml_parser"),o={};o.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",o.readBoolean=function(e){var t=i.getAllTextContent(e,!1);return o.readBooleanString(t)},o.readBooleanString=function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?n(t[1])||!1:void 0},o.readDateTime=function(e){var t=i.getAllTextContent(e,!1),r=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/,a=r.exec(t);if(a){var o=parseInt(a[1],10),u=parseInt(a[2],10)-1,d=parseInt(a[3],10),s=parseInt(a[4],10),S=parseInt(a[5],10),c=parseInt(a[6],10),l=Date.UTC(o,u,d,s,S,c)/1e3;if("Z"!=a[7]){var p="-"==a[8]?-1:1;l+=60*p*parseInt(a[9],10),n(a[10])&&(l+=60*p*60*parseInt(a[10],10))}return l}},o.readDecimal=function(e){var t=i.getAllTextContent(e,!1);return o.readDecimalString(t)},o.readDecimalString=function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0},o.readNonNegativeInteger=function(e){var t=i.getAllTextContent(e,!1);return o.readNonNegativeIntegerString(t)},o.readNonNegativeIntegerString=function(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0},o.readString=function(e){var t=i.getAllTextContent(e,!1);return a.trim(t)},o.writeBooleanTextNode=function(e,t){o.writeStringTextNode(e,t?"1":"0")},o.writeDateTimeTextNode=function(e,t){var r=new Date(1e3*t),n=r.getUTCFullYear()+"-"+n.padNumber(r.getUTCMonth()+1,2)+"-"+n.padNumber(r.getUTCDate(),2)+"T"+n.padNumber(r.getUTCHours(),2)+":"+n.padNumber(r.getUTCMinutes(),2)+":"+n.padNumber(r.getUTCSeconds(),2)+"Z";e.appendChild(i.DOCUMENT.createTextNode(n))},o.writeDecimalTextNode=function(e,t){var r=t.toPrecision();e.appendChild(i.DOCUMENT.createTextNode(r))},o.writeNonNegativeIntegerTextNode=function(e,t){var r=t.toString();e.appendChild(i.DOCUMENT.createTextNode(r))},o.writeStringTextNode=function(e,t){e.appendChild(i.DOCUMENT.createTextNode(t))},t.exports=o},{"./utils/isdef":3,"./utils/string":5,"./xml_parser":8}]},{},[1])(1)});
